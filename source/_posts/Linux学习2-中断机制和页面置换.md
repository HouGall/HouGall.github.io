---
title: Linux学习2-中断机制和页面置换
data: 2020-8-18 8:50:18
tags:
 - Linux
 - 求职
categories:
 - 求职
mathjax: true
---
# 硬链接和软链接
>硬链接是多个文件名指向同一个inode，修改其中一个文件会影响另外的文件内容，但是删除其中一个文件不会影响另外文件。每添加一个硬链接，inode连接数会+1。
>软链接是A文件的内容是B文件的路径，访问A和B文件都是打开的是B文件，但是如果B文件换了位置，就不能得到有用的信息了。
# 缺页中断
>在请求分页系统中，每当要查询的页表不在内存中时，系统就会产生一次中断，去外存搜索这个页表，然后调入内存中。需要四个步骤：
>1.保护cpu现场。
>2.分析中断原因。
>3.转入中断程序进行处理。
>4.恢复现场，继续执行。
## 页面置换算法
>进程再运行时，产生缺页中断需要调入缺失页到内存，但是此时内存如果满了，就需要使用**置换算法将在内存的某个页调入磁盘对换区**，然后将缺失页调入内存。
### 最佳置换算法(OPT)
>OPT算法的思想是换出在后面不需要使用到的页或者很久不使用的页，所以需要看已在内存中的页在后面多少次会出现。
![OPT](https://s1.ax1x.com/2020/08/25/dg0uct.png)

### 先进先出置换算法（FIFO）
>就是一个队列，从队尾插入，队头删除的操作。最先进来的就会被最先置换出去。
![FIFO](https://s1.ax1x.com/2020/08/25/dg0Qnf.png)
#### Belady异常
>一般来说，分配的物理块内存越多，置换算法出现的中断率就越低，但是FIFO却可能出现相反的情况，这就是Belady异常。

### 最近最久未使用置换算法（LRU）
>思想：最近使用过的页很可能会再次使用，而很久未使用的页可能后面不会再使用。置换出去最近没有使用到的页。
![LRU](https://s1.ax1x.com/2020/08/25/dg0KjP.png)

### 时钟(CLOCK)置换算法
>**待更新。。。**